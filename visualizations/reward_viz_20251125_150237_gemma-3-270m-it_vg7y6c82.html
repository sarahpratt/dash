<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reward Visualization</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
            margin-bottom: 5px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 10px;
        }
        .metadata {
            background: #fff;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        .metadata-item {
            font-size: 13px;
        }
        .metadata-label {
            color: #666;
            font-size: 11px;
            text-transform: uppercase;
        }
        .metadata-value {
            font-weight: 600;
            color: #333;
            word-break: break-all;
        }
        .chart-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .instructions {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 10px 15px;
            margin-bottom: 20px;
            border-radius: 0 4px 4px 0;
        }
        .rollout-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .rollout-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .rollout-header h2 {
            margin: 0;
            color: #333;
        }
        .rollout-nav {
            display: flex;
            gap: 10px;
        }
        .rollout-nav button {
            padding: 8px 16px;
            border: none;
            background: #2196f3;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .rollout-nav button:hover {
            background: #1976d2;
        }
        .rollout-nav button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .rollout-count {
            color: #666;
            font-size: 14px;
        }
        .rollout-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .phase {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }
        .phase-header {
            background: #f5f5f5;
            padding: 10px 15px;
            font-weight: 600;
            border-bottom: 1px solid #e0e0e0;
        }
        .phase-header.practice {
            background: #fff3e0;
            color: #e65100;
        }
        .phase-header.final {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .phase-content {
            padding: 15px;
        }
        .field {
            margin-bottom: 15px;
        }
        .field:last-child {
            margin-bottom: 0;
        }
        .field-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        .field-value {
            background: #fafafa;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            word-break: break-word;
        }
        .student-responses {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .student-box {
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 10px;
        }
        .student-name {
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
        }
        .student-answer {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            font-weight: 600;
        }
        .reward-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }
        .reward-badge.success {
            background: #c8e6c9;
            color: #2e7d32;
        }
        .reward-badge.failure {
            background: #ffcdd2;
            color: #c62828;
        }
        .meta-info {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 13px;
            color: #666;
        }
        .no-selection {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }
        .no-selection-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        @media (max-width: 768px) {
            .rollout-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Training Reward Visualization</h1>
        <p class="subtitle">Question Generation Environment</p>

        <div class="metadata" id="metadata-display"></div>

        <div class="instructions">
            <strong>How to use:</strong> Click on any point in the chart below to view example rollouts from that time in training. Use the navigation buttons to browse through multiple examples at that point.
        </div>

        <div class="chart-container">
            <div id="reward-chart"></div>
        </div>

        <div class="rollout-panel">
            <div id="rollout-display">
                <div class="no-selection">
                    <div class="no-selection-icon">ðŸ“Š</div>
                    <div>Click on a point in the chart above to view rollout examples</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data injected from Python
        const rewardData = {"rollouts": [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1100], "rewards": [0.41, 0.25, 0.4, 0.41, 0.46, 0.39, 0.34, 0.48, 0.45, 0.42, 0.32], "avg_rewards": [0.41, 0.32999999999999996, 0.35333333333333333, 0.3675, 0.386, 0.38666666666666666, 0.38, 0.3925, 0.39888888888888885, 0.40099999999999997, 0.392], "examples": {"100": [{"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "30\n", "practice_student_b": "1, 2, 3, 4", "final_question": "List the first five positive integers.", "final_student_a": "5\n", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "5", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?", "practice_student_a": "16\n", "practice_student_b": "3\n", "final_question": "Solve for \\( x \\) in the equation \\( 2x - 5 = 11 \\).", "final_student_a": "11\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "11", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 10 divided by 5?", "final_student_a": "2", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "10"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "30\n", "final_question": "What is the sum of the first 10 positive integers?", "final_student_a": "1, 2, 3, 4", "final_student_b": "30\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "30"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "10\n", "practice_student_b": "3\n", "final_question": "How many sides does a triangle have?", "final_student_a": "3", "final_student_b": "3", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "3", "extracted_b": "3"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 10 divided by 5?", "final_student_a": "2\n", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 12 $.", "final_student_a": "2\n", "final_student_b": "$ x = 1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 12 $.", "final_student_a": "12\n", "final_student_b": "$ x = 1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "12", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "10\n", "final_question": "What is the value of 5 + 5?", "final_student_a": "10\n", "final_student_b": "5\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "5"}], "200": [{"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?", "practice_student_a": "16\n", "practice_student_b": "3\n", "final_question": "Solve for $ x $ in the equation $ 2x - 5 = 11 $.", "final_student_a": "2x - 5 = 11\n", "final_student_b": "$ x = \\frac{11}{2", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "11"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 5 = 17 $.", "final_student_a": "2\n", "final_student_b": "$ x = 1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 5x - 3 = 22 $.", "final_student_a": "10\n", "final_student_b": "$x = 5$\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "5"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "4\n", "practice_student_b": "20\n", "final_question": "What is the product of 2 and 10?", "final_student_a": "10\n", "final_student_b": "20\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "20"}, {"practice_question": "What is the area of a square with a side length of 7 units?  \n\nAnswer: 49", "practice_student_a": "49\n", "practice_student_b": "49\n", "final_question": "What is the product of 12 and 4?", "final_student_a": "12\n", "final_student_b": "12 \u00d7 4 = 48\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "12", "extracted_b": "12"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "1, 2, 3, 4", "final_question": "What is the sum of the first 4 positive integers?", "final_student_a": "1 + 2 + 3 + 4", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "30\n", "final_question": "What is the sum of the first 5 positive integers?", "final_student_a": "1, 2, 3, 4", "final_student_b": "25\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "25"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?", "practice_student_a": "3\n", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "$ x = 1\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "2"}], "300": [{"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "10", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "1\n", "practice_student_b": "2\n", "final_question": "What is the value of 1 + 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 28 $?", "practice_student_a": "$3x + 7 = 28", "practice_student_b": "19\n", "final_question": "Solve for $ x $ in the equation $ 2x + 5 = 19 $.", "final_student_a": "$ x = 1\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "1, 2, 3, 4", "final_question": "What is the sum of the first 4 positive integers?", "final_student_a": "1 + 2 + 3 + 4", "final_student_b": "1 + 2 + 3 + 4", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "10\n", "final_question": "What is the value of 1 + 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "$x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$3x + 7 = 22", "final_student_b": "$x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "3", "extracted_b": "22"}], "400": [{"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$3x + 7 = 22", "final_student_b": "$x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "3", "extracted_b": "22"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "10\n", "practice_student_b": "20\n", "final_question": "What is the product of 5 and 4?", "final_student_a": "4\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 1.0, "extracted_a": "4", "extracted_b": "4"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "3\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "$x = 1$", "final_student_b": "$x = 1$\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "5\n", "practice_student_b": "20\n", "final_question": "What is the product of 4 and 5?", "final_student_a": "5\n", "final_student_b": "20\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "5", "extracted_b": "20"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 16 $.", "final_student_a": "$ x = 16 - 4 =", "final_student_b": "2x + 4 = 16\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "16", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "2\n", "final_question": "What is the value of 2 multiplied by 1?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "$ x = \\frac{22 - ", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?", "practice_student_a": "3\n", "practice_student_b": "3\n", "final_question": "Solve for \\( x \\) in the equation \\( 2x + 4 = 10 \\).", "final_student_a": "1\n", "final_student_b": "- 2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "2"}], "500": [{"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "10\n", "practice_student_b": "20\n", "final_question": "What is the product of 5 and 4?", "final_student_a": "4\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 1.0, "extracted_a": "4", "extracted_b": "4"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "30\n", "final_question": "What is the sum of the first 10 positive integers?", "final_student_a": "1, 2, 3, 4", "final_student_b": "30\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "30"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "4\n", "final_question": "What is the value of 2 times 2?", "final_student_a": "4\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "4", "extracted_b": "2"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?  \n\nAnswer: \\( x = 5 \\)", "practice_student_a": "Therefore, \\( x = 5 \\)\n", "practice_student_b": "The value of \\( x \\) is \\( x =", "final_question": "Solve for x: 2x - 4 = 6.", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "4\n", "practice_student_b": "4\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "10\n", "final_question": "What is the value of 5 + 5?", "final_student_a": "10\n", "final_student_b": "5\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "5"}], "600": [{"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "$x = 22 - 7$", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "1, 2, 3, 4", "final_question": "What is the sum of the first 4 positive integers?", "final_student_a": "1 + 2 + 3 + 4", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the product of 2 and 10?", "final_student_a": "10\n", "final_student_b": "20\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "20"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "30\n", "practice_student_b": "1, 2, 3, 4", "final_question": "List the first five positive integers.", "final_student_a": "5\n", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "5", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 12 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "4\n", "practice_student_b": "2\n", "final_question": "What is the value of 1 + 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "3\n", "final_question": "Solve for $ x $ in the equation $ 2x - 5 = 11 $.", "final_student_a": "2x - 5 = 11\n", "final_student_b": "$x = \\frac{11}{2", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "11"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?  \n\nAnswer: \\( x = 5 \\)", "practice_student_a": "5\n", "practice_student_b": "The value of \\( x \\) is \\( 5", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "1, 2, 3, 4", "final_question": "What is the sum of the first 4 positive integers?", "final_student_a": "1, 2, 3, 4", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$3x + 7 = 22", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "3", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "3\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "$x = 1$", "final_student_b": "$x = 1$", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}], "700": [{"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "30\n", "practice_student_b": "1, 2, 3, 4", "final_question": "List the first five positive integers.", "final_student_a": "5\n", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "5", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "10\n", "practice_student_b": "2\n", "final_question": "How many sides does a triangle have?", "final_student_a": "3", "final_student_b": "3\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "3", "extracted_b": "3"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "$x = 22 - 7$", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "3\n", "final_student_b": "$ x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "3", "extracted_b": "22"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?\n\n**Answer:** 5", "practice_student_a": "5\n", "practice_student_b": "5\n", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the product of 2 and 10?", "final_student_a": "20\n", "final_student_b": "20\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 1.0, "extracted_a": "20", "extracted_b": "20"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "30\n", "final_question": "What is the sum of the first 5 positive integers?", "final_student_a": "1, 2, 3, 4", "final_student_b": "25\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "25"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "$x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}], "800": [{"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "3\n", "final_question": "What is the value of 2 + 1?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "20\n", "practice_student_b": "2\n", "final_question": "What is the value of 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7$", "final_student_b": "$x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?  \n\nAnswer: \\( x = 5 \\)", "practice_student_a": "Therefore, \\( x = 5 \\)\n", "practice_student_b": "Therefore, \\( x = 5 \\)\n", "final_question": "Solve for \\( x \\) in the equation \\( 2x + 3 = 13 \\).", "final_student_a": "1\n", "final_student_b": "-2", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "1", "extracted_b": "-2"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "3\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "$ x = 22 - 7 =", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "22", "extracted_b": "22"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "10\n", "practice_student_b": "4\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$ x = 22 - 7 =", "final_student_b": "$3x + 7 = 22", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "3"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?  \n\nAnswer: \\( x = 5 \\)", "practice_student_a": "Therefore, \\( x = 5 \\)\n", "practice_student_b": "Therefore, \\( x = 5 \\)\n", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "$ x = 13 - 2 \\", "final_student_b": "$ x = 1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "13", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?  \nAnswer: $ x = 5 $", "practice_student_a": "The value of $ x $ is $5 $.", "practice_student_b": "$ x = 5 $\n", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "$x = 12$\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "12", "extracted_b": "1"}], "900": [{"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "3\n", "practice_student_b": "10\n", "final_question": "How many even numbers are there from 2 to 20 inclusive?", "final_student_a": "There are 10 even numbers from 2", "final_student_b": "There are 10 even numbers from 2", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "10", "extracted_b": "10"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "2\n", "final_question": "What is the value of 2 multiplied by 1?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "20\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "4\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "$3x + 7 = 22", "practice_student_b": "16\n", "final_question": "Solve for $ x $ in the equation $ 3x + 7 = 22 $.", "final_student_a": "$x = 22 - 7 =", "final_student_b": "10\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "22", "extracted_b": "10"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "3\n", "final_question": "What is the value of $ x $ if $ 2x - 5 = 11 $?", "final_student_a": "11\n", "final_student_b": "$2x - 5 = 11", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "11", "extracted_b": "2"}], "1000": [{"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?  \n\nAnswer: $ x = 5 $", "practice_student_a": "$x = 5$\n", "practice_student_b": "$x = 5$", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "2\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?  \n\nAnswer: $ x = 5 $", "practice_student_a": "$x = 5 $\n", "practice_student_b": "$ x = 5 $\n", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "$x = 10$\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "10", "extracted_b": "2"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 28 $?", "practice_student_a": "19\n", "practice_student_b": "$3x + 7 = 28", "final_question": "Solve for $ x $ in the equation $ 2x + 5 = 17 $.", "final_student_a": "2\n", "final_student_b": "$x = 4$", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "4"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "4\n", "practice_student_b": "2\n", "final_question": "How many sides does a triangle have?", "final_student_a": "3\n", "final_student_b": "3", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "3", "extracted_b": "3"}, {"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?", "practice_student_a": "16\n", "practice_student_b": "$3x + 7 = 22", "final_question": "Solve for $ x $ in the equation $ 2x + 4 = 10 $.", "final_student_a": "2\n", "final_student_b": "$x = 1$", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "30\n", "practice_student_b": "1, 2, 3, 4", "final_question": "List the first five positive integers.", "final_student_a": "5\n", "final_student_b": "1, 2, 3, 4", "student_a_model": "../../models/gemma/gemma-3-1b-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 0.0, "extracted_a": "5", "extracted_b": "1"}], "1100": [{"practice_question": "What is the value of $ x $ if $ 3x + 7 = 22 $?  \n\n**Answer:** 5", "practice_student_a": "5\n", "practice_student_b": "5\n", "final_question": "Solve for $ x $ in the equation $ 2x + 3 = 13 $.", "final_student_a": "$x = 4$", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "4", "extracted_b": "2"}, {"practice_question": "What is the value of \\( x \\) if \\( 3x + 7 = 22 \\)?", "practice_student_a": "3\n", "practice_student_b": "16\n", "final_question": "Solve for x: 2x + 4 = 10 + 2x", "final_student_a": "2x + 4 = 10 +", "final_student_b": "6", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-1b-it", "reward": 0.0, "extracted_a": "2", "extracted_b": "6"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "10\n", "final_question": "What is the value of 1 + 1?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive integers?", "practice_student_a": "1, 2, 3, 4", "practice_student_b": "1, 2, 3, 4", "final_question": "What is the sum of the first 4 positive integers?", "final_student_a": "1 + 2 + 3 + 4", "final_student_b": "1 + 2 + 3 + 4", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "2\n", "practice_student_b": "10\n", "final_question": "How many even numbers are there from 1 to 10?", "final_student_a": "1\n", "final_student_b": "1\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "1", "extracted_b": "1"}, {"practice_question": "What is the sum of the first 10 positive even integers?", "practice_student_a": "3\n", "practice_student_b": "4\n", "final_question": "What is the value of 2 + 2?", "final_student_a": "2\n", "final_student_b": "2\n", "student_a_model": "../../models/gemma/gemma-3-270m-it", "student_b_model": "../../models/gemma/gemma-3-270m-it", "reward": 1.0, "extracted_a": "2", "extracted_b": "2"}]}};
        const metadata = {"model_name": "../../models/gemma/gemma-3-270m-it", "run_id": "20251125_150237_gemma-3-270m-it_vg7y6c82", "wandb_run_id": "vg7y6c82", "wandb_project": "ask_test_1", "total_rollouts": 1100, "last_updated": "2025-11-25 15:04:38"};

        // Display metadata
        function displayMetadata() {
            const container = document.getElementById('metadata-display');
            const items = [
                { label: 'Model', value: metadata.model_name },
                { label: 'W&B Run ID', value: metadata.wandb_run_id },
                { label: 'W&B Project', value: metadata.wandb_project },
                { label: 'Total Rollouts', value: metadata.total_rollouts.toLocaleString() },
                { label: 'Last Updated', value: metadata.last_updated },
            ];

            container.innerHTML = items.map(item => `
                <div class="metadata-item">
                    <div class="metadata-label">${item.label}</div>
                    <div class="metadata-value">${item.value}</div>
                </div>
            `).join('');
        }
        displayMetadata();

        // Create the Plotly chart
        const trace1 = {
            x: rewardData.rollouts,
            y: rewardData.rewards,
            mode: 'markers',
            type: 'scatter',
            name: 'Avg Reward (per interval)',
            marker: {
                size: 8,
                color: '#2196f3',
                opacity: 0.6
            },
            hovertemplate: 'Rollout: %{x}<br>Avg Reward: %{y:.3f}<extra></extra>'
        };

        const trace2 = {
            x: rewardData.rollouts,
            y: rewardData.avg_rewards,
            mode: 'lines',
            type: 'scatter',
            name: 'Running Average',
            line: {
                color: '#f44336',
                width: 2
            },
            hovertemplate: 'Rollout: %{x}<br>Running Avg: %{y:.3f}<extra></extra>'
        };

        const layout = {
            title: 'Reward over Training',
            xaxis: {
                title: 'Total Rollouts',
                gridcolor: '#eee'
            },
            yaxis: {
                title: 'Reward',
                range: [0, 1],
                gridcolor: '#eee'
            },
            hovermode: 'closest',
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            legend: {
                x: 0.02,
                y: 0.98
            }
        };

        const config = {
            responsive: true,
            displayModeBar: true,
            modeBarButtonsToRemove: ['lasso2d', 'select2d']
        };

        Plotly.newPlot('reward-chart', [trace1, trace2], layout, config);

        // State for current selection
        let currentRollout = null;
        let currentExampleIndex = 0;

        // Handle click events on the chart
        document.getElementById('reward-chart').on('plotly_click', function(data) {
            const point = data.points[0];
            currentRollout = point.x;
            currentExampleIndex = 0;
            displayRollout();
        });

        function displayRollout() {
            if (!currentRollout || !rewardData.examples[currentRollout]) {
                document.getElementById('rollout-display').innerHTML = `
                    <div class="no-selection">
                        <div class="no-selection-icon">ðŸ“Š</div>
                        <div>No examples available for rollout ${currentRollout}</div>
                    </div>
                `;
                return;
            }

            const examples = rewardData.examples[currentRollout];
            const example = examples[currentExampleIndex];
            const total = examples.length;

            const rewardClass = example.reward === 1.0 ? 'success' : 'failure';
            const rewardText = example.reward === 1.0 ? '1.0 (Agreement)' : '0.0 (Disagreement)';

            const html = `
                <div class="rollout-header">
                    <h2>Rollout Examples at ${currentRollout.toLocaleString()} rollouts</h2>
                    <div class="rollout-nav">
                        <button onclick="prevExample()" ${currentExampleIndex === 0 ? 'disabled' : ''}>â† Previous</button>
                        <span class="rollout-count">${currentExampleIndex + 1} / ${total}</span>
                        <button onclick="nextExample()" ${currentExampleIndex === total - 1 ? 'disabled' : ''}>Next â†’</button>
                    </div>
                </div>

                <div class="rollout-grid">
                    <div class="phase">
                        <div class="phase-header practice">Practice Phase (Turn 1)</div>
                        <div class="phase-content">
                            <div class="field">
                                <div class="field-label">Teacher's Practice Question</div>
                                <div class="field-value">${example.practice_question}</div>
                            </div>
                            <div class="field">
                                <div class="field-label">Student Responses</div>
                                <div class="student-responses">
                                    <div class="student-box">
                                        <div class="student-name">${example.student_a_model}</div>
                                        <div class="student-answer">${example.practice_student_a}</div>
                                    </div>
                                    <div class="student-box">
                                        <div class="student-name">${example.student_b_model}</div>
                                        <div class="student-answer">${example.practice_student_b}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="phase">
                        <div class="phase-header final">Final Phase (Turn 2)</div>
                        <div class="phase-content">
                            <div class="field">
                                <div class="field-label">Teacher's Final Question</div>
                                <div class="field-value">${example.final_question}</div>
                            </div>
                            <div class="field">
                                <div class="field-label">Student Responses (Extracted: ${example.extracted_a}, ${example.extracted_b})</div>
                                <div class="student-responses">
                                    <div class="student-box">
                                        <div class="student-name">${example.student_a_model}</div>
                                        <div class="student-answer">${example.final_student_a}</div>
                                    </div>
                                    <div class="student-box">
                                        <div class="student-name">${example.student_b_model}</div>
                                        <div class="student-answer">${example.final_student_b}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="meta-info">
                    <div><strong>Reward:</strong> <span class="reward-badge ${rewardClass}">${rewardText}</span></div>
                    <div><strong>Student Pair:</strong> ${example.student_a_model} & ${example.student_b_model}</div>
                </div>
            `;

            document.getElementById('rollout-display').innerHTML = html;
        }

        function prevExample() {
            if (currentExampleIndex > 0) {
                currentExampleIndex--;
                displayRollout();
            }
        }

        function nextExample() {
            const examples = rewardData.examples[currentRollout];
            if (currentExampleIndex < examples.length - 1) {
                currentExampleIndex++;
                displayRollout();
            }
        }
    </script>
</body>
</html>